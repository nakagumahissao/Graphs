<Window x:Class="Graphs.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:helix="http://helix-toolkit.org/wpf"
        Title="Graphs App"
        Height="849"
        Width="1377"
        Icon="/Graphs.ico">

    <DockPanel LastChildFill="True">

        <!-- TOP BAR -->
        <Border DockPanel.Dock="Top"
                Background="#F0F0F0"
                BorderBrush="DarkGray"
                BorderThickness="0,0,0,1">

            <StackPanel Margin="10">
                <StackPanel Margin="10">

                    <Grid Margin="0,0,0,10">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="204.473"/>
                            <ColumnDefinition Width="22.514"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>

                        <Label Content="Choose an Existing Equation:"
           FontSize="16"
           FontWeight="Bold"
           VerticalAlignment="Center"
           HorizontalAlignment="Left" Grid.ColumnSpan="3"/>

                        <ComboBox x:Name="EquationsComboBox"
              Grid.Column="2"
              DisplayMemberPath="GraphName"
              SelectedValuePath="Id"
              FontSize="14"
              VerticalAlignment="Center"/>

                        <Button x:Name="btLoad"
            Grid.Column="3"
            Content="Load"
            Width="95"
            Height="30"
            Margin="10,0,0,0"
            FontSize="14"
            VerticalAlignment="Center" Click="btLoad_Click_1"/>
                    </Grid>


                </StackPanel>


                <Grid Margin="0,0,0,10">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <!-- Equation -->
                    <TextBlock Text="Equation:"
               Grid.Row="0"
               VerticalAlignment="Center"
               FontSize="14"
               Margin="0,0,10,5"/>

                    <TextBox x:Name="EquationBox"
             Grid.Row="0"
             Grid.Column="1"
             Height="26"
             FontSize="16"
             Text="Sin(Sqrt(x*x + y*y) - t)"
             Margin="0,0,0,5"/>

                    <!-- Equation Name -->
                    <TextBlock x:Name="lblName"
               Text="Equation Name:"
               Grid.Row="1"
               VerticalAlignment="Center"
               FontSize="14"
               Margin="0,0,10,0"/>

                    <TextBox x:Name="txtEquationName"
             Grid.Row="1"
             Grid.Column="1"
             Height="26"
             FontSize="16"
             HorizontalAlignment="Stretch"/>
                </Grid>


                <!-- Radio buttons -->
                <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                    <RadioButton x:Name="rbFunction" Content="z = f(x, y)" Margin="0,0,15,0" IsChecked="True" Click="rbFunction_Click"/>
                    <RadioButton x:Name="rbPolar" Content="z = f(r, θ)" Margin="0,0,15,0" Click="rbPolar_Click"/>
                    <RadioButton x:Name="rbParametric" Content="r(t)" Margin="0,0,15,0" Click="rbParametric_Click"/>
                    <RadioButton x:Name="Point" Content="Point" Margin="0,0,15,0" Click="Point_Click"/>
                    <RadioButton x:Name="rbPlane" Content="Surface (u,v)" Margin="0,0,15,0" Click="rbPlane_Click"/>
                    <RadioButton x:Name="rbVector" Content="Vector" Click="rbVector_Click"/>
                </StackPanel>

                <!-- Buttons row -->
                <Grid Margin="0,10,0,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                        <!-- spacer -->
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <Button Content="Plot"
            Grid.Column="0"
            Click="Plot_Click"
            Width="95"
            Height="30"
            FontSize="14"/>

                    <Button x:Name="btClear"
            Grid.Column="1"
            Content="Clear"
            Click="BtnClear_Click"
            Width="95"
            Height="30"
            Margin="10,0,0,0"
            FontSize="14"
            Background="#FFB93232"
            Foreground="White"/>

                    <Button x:Name="btSaveEquation"
            Grid.Column="3"
            Content="Save Equation"
            Width="140"
            Height="30"
            FontSize="14"
            VerticalAlignment="Center" Click="btSaveEquation_Click"/>
                </Grid>


            </StackPanel>
        </Border>

        <!-- LEFT PANEL -->
        <Border DockPanel.Dock="Left"
                Width="180"
                Background="#2D2D2D">

            <StackPanel Margin="10">

                <TextBlock Text="SETTINGS"
                           Foreground="White"
                           FontWeight="Bold"
                           Margin="0,0,0,10"
                           HorizontalAlignment="Center"/>

                <TextBlock Text="U / X Range" Foreground="White" Margin="0,5,0,0"/>

                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <TextBox x:Name="UMinBox" Text="0" Grid.Column="0" Margin="0,0,2,0"/>
                    <TextBox x:Name="UMaxBox" Text="6.28" Grid.Column="1" Margin="2,0,0,0"/>
                </Grid>

                <TextBlock Text="V / Y Range" Foreground="White" Margin="0,5,0,0"/>

                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <TextBox x:Name="VMinBox" Text="-5" Grid.Column="0" Margin="0,0,2,0"/>
                    <TextBox x:Name="VMaxBox" Text="5" Grid.Column="1" Margin="2,0,0,0"/>
                </Grid>

                <TextBlock Text="Mesh Step" Foreground="White" Margin="0,10,0,0"/>
                <TextBox x:Name="StepBox" Text="0.2"/>

                <Separator Margin="0,15" Background="#444"/>

                <CheckBox x:Name="AnimateCheck"
                          Content="Enable Animation"
                          Foreground="White"
                          Checked="AnimateCheck_Changed"
                          Unchecked="AnimateCheck_Changed"/>
            </StackPanel>
        </Border>

        <!-- MAIN VIEWPORT (FIXED: no Width) -->
        <helix:HelixViewport3D x:Name="View">
            <helix:DefaultLights/>
        </helix:HelixViewport3D>

    </DockPanel>
</Window>
